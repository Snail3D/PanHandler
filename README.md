# 📐 PanHandler

> Transform your iPhone into a precision measurement tool — no hardware needed, just a coin.

<p align="center">
  <strong>Professional measurements • CAD-ready exports • Free forever</strong><br>
  <em>Built for makers, builders, and creators everywhere</em>
</p>

---

## 🎯 What is PanHandler?

PanHandler turns your iPhone camera into a professional measurement tool using coin-based calibration and advanced computer vision. Measure distances, angles, areas, and more with CAD-level precision — perfect for construction, design, engineering, and everyday projects.

**No expensive laser tools. No subscriptions. Just your phone and a coin.**

---

## ✨ Features at a Glance

### 📏 Measurement Tools

| Tool | Description | Perfect For |
|------|-------------|-------------|
| **📐 Distance** | Measure straight-line distances between two points | Room dimensions, furniture sizing, material lengths |
| **📐 Angle** | Three-point angle measurements with azimuth bearing | Corner angles, slopes, directional bearings |
| **⭕ Circle** | Radius, diameter, area, and circumference | Pipes, vents, circular objects, curved surfaces |
| **▭ Rectangle** | Length, width, and area calculations | Walls, windows, doors, frames, boxes |
| **〰️ Freehand** | Trace custom paths and irregular shapes | Wire routing, curved edges, complex contours |

### 🪙 Smart Calibration

- **650+ Coins Supported** — From 130+ countries worldwide, every continent covered
- **Map Scale Mode** — Measure directly from blueprints, maps, and drawings
- **Auto-Level Capture** — Hold your phone level and it auto-captures perfectly straight photos
- **Precision Lock-In** — Professional-grade accuracy for CAD workflows
- **One-Time Setup** — Calibration remembered for future sessions

### 🎨 Beautiful Interface

- **Glassmorphic UI** — Smooth, modern, watery design aesthetic
- **Color-Coded Measurements** — Each measurement type has its own vibrant color
- **Haptic Feedback** — Satisfying tactile responses throughout the app
- **Smart Snapping** — Measurements auto-snap to horizontal/vertical for perfect alignment
- **Gesture Controls** — Pan, pinch-zoom, and tap with intuitive interactions

### 💾 Export Options

- **📧 Email Reports** — Send measurements with annotated photos
- **📸 Save to Photos** — Export images with measurements burned in
- **📐 CAD Export** — DXF format for professional workflows
- **🏷️ Custom Labels** — Name your measurements for clarity

---

## 🚀 How to Use PanHandler

### Step 1: 📸 Take a Perfect Photo

**Position matters for accuracy:**

- **Hold camera perpendicular (90°)** to your subject
  - Flat surfaces: Look straight down
  - Vertical surfaces: Face directly at walls/objects
- **Distance matters:**
  - Closer = Better detail (but fit everything in frame)
  - Farther = Less detail (but wider coverage)
- **Use the bubble level** — Green circle shows when phone is level
- **Auto-capture enabled?** — Hold level for 2 seconds to auto-snap
- **Tap shutter button** to capture manually
- **Import existing photos** via "Add Photos" button

---

### Step 2: 🪙 Calibrate with a Coin

**Set your scale for accurate measurements:**

1. **Search for your coin** — 650+ coins from 130+ countries
2. **Place the coin** in your photo (or nearby on the surface)
3. **Zoom and position** the calibration circle
4. **Align edges perfectly** — Match the outer circle edge to the coin
5. **Tap "Lock In Calibration"** when ready

💡 **Pro Tip:** Made a mistake? Tap the red **Recalibrate** button below the calibration badge to start over!

---

### Step 3: 📏 Place Measurements

**Choose your measurement type and start measuring:**

#### 📐 Distance Mode
- Tap to place two points
- Get instant distance measurement
- **Pro Tip:** Connect multiple lines to create triangles and polygons — **areas are automatically calculated!**

#### 📐 Angle Mode
- Place first endpoint → vertex (corner) → second endpoint
- See angle in degrees
- In Map Mode, this becomes **Azimuth Mode** for directional bearings

#### ⭕ Circle Mode
- Tap center point
- Tap edge to define radius
- Get diameter, circumference, and **area automatically**

#### ▭ Rectangle Mode
- Tap two opposite corners
- Get length, width, and **area automatically**
- Edges snap to perfect horizontal/vertical lines

#### 〰️ Freehand Mode
- Draw custom paths for any shape
- Perfect for wire paths, curved edges, or irregular contours
- **🎯 Lasso Mode:** Close the loop by ending near your start point — get **perimeter and area!**

---

### Step 4: 📤 Export Your Work

**Share your measurements professionally:**

- **Email** — Send annotated photos with all measurements
- **Save to Photos** — Export high-quality images with measurements
- **CAD Export (DXF)** — Import into AutoCAD, Fusion 360, SolidWorks, etc.
- **Custom Labels** — Tap "Edit Labels" to name measurements before exporting

---

## 🎓 Tips & Tricks

### 📸 Getting the Best Photos

- **Lighting is key** — Use natural light when possible
- **Avoid shadows** — They can distort measurements
- **Keep phone steady** — Use the bubble level for perfect alignment
- **Zoom calibration** — If initial photo is too far, you can zoom during calibration!

### 🎯 Measurement Accuracy

- **Tap-to-Focus** — Tap screen to auto-focus camera before capture
- **Sub-pixel precision** — Crosshair cursor snaps to exact pixel locations
- **Multi-measurement workflows** — Place multiple measurements on same photo
- **Pan & Edit Modes:**
  - **Pan Mode** — Navigate around your photo
  - **Measure Mode** — Place new measurements
  - **Edit Mode** — Adjust existing measurement points

### 🗺️ Map Mode

Want to measure from maps, blueprints, or technical drawings?

1. Import your map/blueprint photo
2. In calibration, tap **"Map Mode"**
3. Enter the scale (e.g., "1:100" or "1 inch = 10 feet")
4. Measure directly on the drawing!

---

## 🎬 Learn with Video Tutorials

Watch our complete video course on YouTube!

**[📹 PanHandler YouTube Course](https://www.youtube.com/playlist?list=PLJB4l6OZ0E3HRdPaJn8dJPZrEu4dPBDJi)**

**Course includes:**
- Getting started tutorials
- Advanced measurement techniques
- Real-world workflow examples
- Tips & tricks for best results

---

## 💰 Pricing

### 🎉 Free Forever

That's right — **completely free, forever.**

- ✅ Unlimited measurements
- ✅ Unlimited exports
- ✅ All measurement tools (Distance, Angle, Circle, Rectangle, Freehand)
- ✅ Coin + Map calibration
- ✅ CAD export (DXF format)
- ✅ Email reports with photos
- ✅ All features included

**No subscriptions. No in-app purchases. No hidden fees.**

---

## 🏆 Why Choose PanHandler?

### vs. Tape Measures
- ✅ Faster and more accurate
- ✅ Digital records you can share
- ✅ Measure from photos anytime

### vs. Laser Measuring Tools
- ✅ Free vs. $50-$200
- ✅ No extra device to carry
- ✅ Measure multiple dimensions from one photo

### vs. Other Measurement Apps
- ✅ Real calibration (not guessing)
- ✅ CAD-ready DXF exports
- ✅ Professional precision
- ✅ Beautiful, intuitive interface

---

## 📱 Use Cases

### 🏗️ Construction & Contractors
- Room dimensions and layout verification
- Material quantity calculations
- Quick on-site estimates
- Client documentation

### 🎨 Interior Design & Architecture
- Furniture sizing and space planning
- Blueprint measurements
- Decoration placement
- Field verification

### 📦 E-commerce & Shipping
- Product dimensions for listings
- Packaging size calculations
- Shipping cost estimates
- Accurate product photos

### 🏡 Real Estate
- Property measurements
- Room dimensions for listings
- Lot sizes
- Professional listing photos

### 🛠️ DIY & Home Improvement
- Project planning
- Material shopping
- Renovation measurements
- Furniture builds

---

## 🏗️ Technical Details

### How It Works

**The Math Behind the Magic:**

```
1. User zooms image to match coin to reference circle
2. App calculates: pixelsPerMM = (circleDiameter / zoomScale) / coinDiameterMM
3. For any measurement: realWorldDistance = pixelDistance / pixelsPerMM
```

**Why It's Accurate:**
- Coin diameters are precisely known (standardized minting)
- Zoom calibration captures exact image scale
- Sub-pixel precision cursor for point placement
- Mathematical verification at every step

### Tech Stack

- **Platform:** React Native 0.76.7 (iOS optimized)
- **Framework:** Expo SDK 53
- **State Management:** Zustand + AsyncStorage
- **Gestures:** react-native-gesture-handler
- **Animations:** react-native-reanimated v3
- **Styling:** NativeWind (Tailwind CSS for React Native)

### Project Structure

```
src/
├── components/
│   ├── CalibrationModal.tsx         # Coin selection UI
│   ├── CoinCalibration.tsx          # Zoom calibration
│   ├── DimensionOverlay.tsx         # Main measurement UI (6000+ lines)
│   ├── HelpModal.tsx                # Comprehensive in-app guide
│   └── BattlingBotsModal.tsx        # Easter egg hints
├── screens/
│   ├── MeasurementScreen.tsx        # Main container
│   └── CameraScreen.tsx             # Photo capture + bubble level
├── state/
│   └── measurementStore.ts          # Zustand store (persistent)
├── utils/
│   ├── coinReferences.ts            # 650+ coin database
│   ├── unitConversion.ts            # Metric/Imperial conversions
│   ├── deviceScale.ts               # 1.2X tablet scaling
│   └── chuckNorrisJokes.ts          # Easter egg content
└── types/
    └── measurement.ts               # TypeScript types
```

---

## 🎮 Easter Eggs

PanHandler has a few fun hidden surprises! Can you find them all?

**Hints:**
- Something about snails... 🐌
- Music lovers, pay attention to the help screen... 🎵
- Chuck Norris doesn't measure things... ⚡

Want more hints? Look for the "Battling Bots" modal (long-press the left egg 7 times)!

---

## 🔧 Development

### Setup

```bash
# Install dependencies
bun install

# Start development server (auto-managed by Vibecode)
# Server runs on port 8081

# Type checking
bun tsc --noEmit
```

### Development Notes

- All timer/subscription cleanup is critical to prevent memory leaks
- React Native Pressable fires both `onPress` and `onLongPress` events
- `useAnimatedStyle` hooks must be defined at top level (never conditionally)
- Tablet support: 1.2X scaling on iPad/Android tablets (automatic detection)

---

## 📚 Documentation

- **[DEVELOPMENT.md](./DEVELOPMENT.md)** — Developer guide: architecture, setup, debugging, formulas
- **[CLAUDE.md](./CLAUDE.md)** — Current session notes (resets each session)
- **[/archive/](./archive/)** — Historical docs and session notes

---

## 🎯 Roadmap

### ✅ v7.0 (Current)
- Improved rectangle labeling system
- Labels now show before dimensions in legend
- Fixed label edit mode interaction
- K/M suffixes for large numbers (distances, areas, volumes)
- Multi-line wrapping for long legend entries
- Enhanced UI polish and consistency
- All v6.0 features included

### ✅ v6.0 (Previous)
- Core measurement tools complete
- Coin + map calibration
- Export system (Email, Photos, DXF)
- Comprehensive help system
- Tablet support (1.2X scaling)
- Easter eggs implemented

### 🔜 Beta (Next)
- App Store submission
- TestFlight beta testing
- User feedback iteration
- Performance optimization
- Marketing assets

### 🚀 Future Ideas
- Apple Watch calibration
- Batch measurements
- Measurement templates
- Cloud sync (optional)
- AR mode (iOS 17+)

---

## 👨‍💻 Credits

**Created by:** [Snail](https://youtube.com/@realsnail3d) (3D Designer)
**Mission:** Make CAD designing faster, easier, and more accurate for everyone

**Development Partner:** Ken (AI Agent at Vibecode)
**Launch:** October 2025

---

## 📄 License

Proprietary — All rights reserved

---

## 🚀 Status

**Version:** v7.0
**Status:** Production Ready 🔥
**Platform:** iOS (iPhone + iPad)

**This is production-ready. Ship it.**

For App Store launch checklist, see [APP_STORE_LAUNCH_GUIDE.md](./APP_STORE_LAUNCH_GUIDE.md)

---

<p align="center">
  <strong>Made with ❤️ for makers, builders, and creators everywhere.</strong><br>
  <em>Measure anything. Anytime. Anywhere.</em>
</p>

---

## 💬 Support & Feedback

- **YouTube:** [@realsnail3d](https://youtube.com/@realsnail3d)
- **Email:** Long-press the Help (?) button in the app to reset your saved email
- **Bug Reports:** Found an issue? Let us know!

---

**📐 PanHandler — Professional measurements from your pocket.**
