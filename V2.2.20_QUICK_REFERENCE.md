# v2.2.20 Quick Reference - Smart Map Scale Units

## What's New
When switching between metric (cm) and imperial (in) screen units in Map Scale mode, the real-world unit now automatically switches to the appropriate matching unit.

## How It Works

### Switch to Metric (cm)
- `ft` → `m` (feet becomes meters)
- `mi` → `km` (miles becomes kilometers)
- Already metric units stay the same

### Switch to Imperial (in)  
- `m` → `ft` (meters becomes feet)
- `km` → `mi` (kilometers becomes miles)
- Already imperial units stay the same

## Examples

**Blueprint:**
- Start: `1 in = 10 ft`
- Tap "cm": `1 cm = 10 m` ✅

**Hiking Map:**
- Start: `1 cm = 1 km`  
- Tap "in": `1 in = 1 mi` ✅

**City Map:**
- Start: `1 in = 0.25 mi`
- Tap "cm": `1 cm = 0.25 km` ✅

## Why This Helps
✅ Units always make logical sense together  
✅ No more mismatched scales (e.g., "1 in = 1 km")  
✅ Faster workflow - no manual unit switching needed  
✅ Prevents user errors  

## File Changed
`/src/components/VerbalScaleModal.tsx` - Screen unit toggle buttons (lines 296-337)

---

## Full Session Summary (v2.2.18 → v2.2.20)

### v2.2.18 - Two Features
1. **Undo single point** - Remove just last point, not entire measurement
2. **Feet/inches formatting** - Display as `45'1"` instead of `45.05 ft`

### v2.2.19 - Bug Fix
3. **Polygon auto-detection disabled** - Lines no longer auto-merge into triangles

### v2.2.20 - Smart Units
4. **Smart map scale unit switching** - Automatic unit conversion when switching metric ↔ imperial

All features tested and working! ✅
