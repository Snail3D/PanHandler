# v2.1.2 - Quick Reference

## Version: 2.1.2 (Oct 17, 2025)

## What's New
**Two-Phase Dynamic Blur in Calibration**
- Fast blur ramp in typical zoom range (1x→6x)
- Slow blur ramp at extreme zoom (6x→35x)
- Better visual feedback where users actually zoom

---

## Key Feature: Two-Phase Blur System

### Visual Behavior:
```
Phase 1 (Fast Ramp):
1.0x → 5% blur   (minimal)
3.0x → 19% blur  (moderate)
6.0x → 40% blur  (strong) ← transition point

Phase 2 (Slow Ramp):
6.0x → 40% blur  (start)
20.0x → 45% blur (gradual)
35.0x → 50% blur (maximum)

Coin area: Always clear ◯
```

### Formula:
```javascript
zoomScale <= 6
  ? Math.min(0.05 + (zoomScale - 1) * 0.07, 0.40)  // Fast: 7% per unit
  : Math.min(0.40 + (zoomScale - 6) * 0.0034, 0.50) // Slow: 0.34% per unit
```

### User Impact:
- ✅ Blur ramps up ~2x faster in typical zoom range
- ✅ Dramatic visual effect where users actually zoom (1x-6x)
- ✅ Subtle refinement at extreme zoom (6x-35x)
- ✅ Full 1x-35x range utilized (no early cap)

---

## Comparison to v2.1.1

### v2.1.1 (Old):
- Linear ramp: 18% per zoom unit
- Hit 50% cap at 3.5x zoom
- No visual feedback beyond 3.5x

### v2.1.2 (New):
- Two-phase ramp: 7% (fast) → 0.34% (slow)
- 40% blur at 6x, 50% at 35x
- Continuous feedback across full zoom range

---

## Where to Find It

**Component**: `src/components/ZoomCalibration.tsx`
**Lines**: 400-404 (two-phase blur formula)

---

## Testing Checklist

### Visual Tests:
- [ ] Zoom 1x: Minimal blur (5%)
- [ ] Zoom 3x: Moderate blur (~19%)
- [ ] Zoom 6x: Strong blur (40%)
- [ ] Zoom 20x: Subtle increase (~45%)
- [ ] Zoom 35x: Maximum blur (~50%)
- [ ] Coin always clear

### Interaction:
- [ ] Pinch 1x→6x: Blur increases dramatically
- [ ] Pinch 6x→35x: Blur increases subtly
- [ ] No "jump" at 6x transition
- [ ] Smooth continuous progression

---

## Files Modified
- `src/components/ZoomCalibration.tsx` (lines 400-404)
- `app.json` (version 2.1.2)
- `V2.1.2_TWO_PHASE_BLUR.md` (documentation)

---

## Previous Version

### v2.1.1 - Dynamic Blur Calibration
- Single-phase linear blur (5% → 50%)
- Capped at 3.5x zoom
- Formula: `0.05 + (zoomScale - 1) * 0.18`

---

## Why This Change?

**User Behavior Observation:**
- Most users zoom to 4x-6x for calibration
- High zoom (20x+) used rarely for extreme precision
- Old formula wasted most blur on unused zoom range

**Solution:**
- Concentrated blur increase where users zoom most (1x-6x)
- Subtle refinement for edge cases (6x-35x)
- Matches natural user behavior pattern

---

## App Status
✅ Two-phase blur implemented
✅ Camera orientation modes working
✅ Auto-capture precision tuned (6px/1.5°)
✅ Help modal optimized
✅ Shutter button orientation-aware
✅ Graceful orientation transitions
